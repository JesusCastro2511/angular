<div class="container mt-4">
    <!-- Button trigger modal form-->
<button type="button" class="btn btn-success" data-toggle="modal" data-target="#formNewClient">
        New Client
</button>
      
      <!-- Modal -->
      <div class="modal fade" id="formNewClient" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="exampleModalLabel">New client</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
            <form name="form2" #f="ngForm" >
                    <input type="hidden" value="Date.now()">
                    <div class="form-group">
                        <label for="name">Name:</label>
                        <input class="form-control" type="text" id="name" name="name"
                        [(ngModel)]="dataClient.name" #name="ngModel" required minlength="3" pattern="[a-zA-Z ]*">
                        <div *ngIf="name.invalid || (name.dirty && name.touched)">
                            <div *ngIf="name.hasError('required')" class="alert alert-danger">
                                NAME IS REQUIRED
                            </div>
                            <div *ngIf="name.hasError('minlength')" class="alert alert-danger">
                                NAME MUST BE AT LEAST 3 CHARACTER LONG
                            </div>
                            <div *ngIf="name.hasError('pattern')" class="alert alert-danger">
                                    JUST ADMIT LETTERS
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="age">Age:</label>
                        <input type="text" class="form-control" id="age" name="age"
                        [(ngModel)]="dataClient.age" #age="ngModel" required pattern="[0-9]*">
                        <div *ngIf="age.invalid || (age.dirty && age.touched)">
                            <div *ngIf="age.hasError('required')" class="alert alert-danger">
                                    AGE IS REQUIRED
                            </div>
                            <div *ngIf="age.hasError('pattern')" class="alert alert-danger">
                                AGE IS INVALID
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                            <label for="gender">Gender:</label>
                            <select class="form-control" id="gender">
                                <option>Male</option>
                                <option>Female</option>
                                </select>
                            </div>
                    <div class="form-group">
                        <label for="company">Company:</label>
                        <input class="form-control" type="text" id="company" name="company"
                        [(ngModel)]="dataClient.company" #company="ngModel" required  pattern="[a-zA-Z ]*">
                        <div *ngIf="company.invalid || (company.dirty && company.touched)">
                            <div *ngIf="company.hasError('required')" class="alert alert-danger">
                                COMPANY IS REQUIRED
                            </div>
                            <div *ngIf="company.hasError('pattern')" class="alert alert-danger">
                                JUST ADMIT LETTERS
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="email">Email:</label>
                        <input type="text" class="form-control" id="email" name="email"
                        [(ngModel)]="dataClient.email" #email="ngModel" required pattern="^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$">
                        <div *ngIf="email.invalid || (email.dirty && email.touched)">
                            <div *ngIf="email.hasError('required')" class="alert alert-danger">
                                    EMAIL IS REQUIRED
                            </div>
                            <div *ngIf="email.hasError('pattern')" class="alert alert-danger">
                                    EMAIL IS INVALID
                            </div>
                        </div> 
                    </div>
                    <div class="form-group">
                        <label for="phone">Phone:</label>
                        <input type="text" class="form-control" id="phone" name="phone"
                        [(ngModel)]="dataClient.phone" #phone="ngModel" required pattern="[0-9]*" minlength="10">
                        <div *ngIf="phone.invalid || (phone.dirty && phone.touched)">
                            <div *ngIf="phone.hasError('required')" class="alert alert-danger">
                                    PHONE IS REQUIRED
                            </div>
                            <div *ngIf="phone.hasError('pattern')" class="alert alert-danger">
                                PHONE IS INVALID
                            </div>
                            <div *ngIf="phone.hasError('minlength')" class="alert alert-danger">
                                    PHONE NUMBER MOST BE 10 CHARACTER LONG
                            </div>
                        </div>
                    </div>
            
                    <div class="form-group">
                        <label for="address">Address:</label>
                        <input type="text" class="form-control" id="address" name="address" 
                        [(ngModel)]="dataClient.address" #address="ngModel" required >
                        <div *ngIf="address.invalid || (address.dirty && address.touched)">
                            <div *ngIf="address.hasError('required')" class="alert alert-danger">
                                    ADDRESS IS REQUIRED
                            </div>
                        </div>
                    </div>
            
                    <div class="form-group form-check">
                        <input type="checkbox" class="form-check-input" id="exampleCheck1" checked>
                        <label class="form-check-label" for="exampleCheck1">Is activate</label>
                    </div>
                    <div class="row justify-content-center">
                    <button  class="btn btn-danger" type="submit" (click)="onSubmit(dataClient)" [disabled]="!f.valid">SEND</button>
                    <button class="btn btn-warning" type="submit" (click)="updateClient()" [disabled]="!f.valid">UPDATE</button>
                    </div>
                    </form>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
            </div>
          </div>
        </div>
      </div>
    
</div>
<div class="container mt-5">
<!--tabla de clients-->
<table class="table">
        <thead>
          <tr>
            <th scope="col">#id</th>
            <th scope="col">Activated</th>
            <th scope="col">Name</th>
            <th scope="col">Age</th>
            <th scope="col">Gender</th>
            <th scope="col">Phone</th>
            <th scope="col">Email</th>
            <th scope="col">Address</th>
            <th scope="col">Company</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let c of clients">
            <th scope="row">{{c.key}}</th>
            <td>{{c.name}}</td>
            <td>{{c.isActivate}}</td>
            <td>{{c.age}}</td>
            <td>{{c.gender}}</td>
            <td>{{c.phone}}</td>
            <td>{{c.email}}</td>
            <td>{{c.address}}</td>
            <td>{{c.company}}</td>
            <td><button class="btn btn-primary m-auto" data-toggle="modal" data-target="#formNewClient" (click)="loadInputs(c)"><i class="fa fa-pencil-square-o fa-lg" aria-hidden="true"></i>
            </button></td>
            <td><button class="btn btn-primary m-auto" data-toggle="modal" data-target="#exampleModal" (click)="loadInputs(c)"><i class="fa fa-trash-o fa-lg" aria-hidden="true"></i>
            </button></td>
        </tr>
        </tbody>
      </table>
      <!-- Modal delete-->
<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="exampleModalLabel">Confirm</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
             are you sure you want to delete this client?
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
              <button type="button" class="btn btn-primary" (click)="deleteClient()" data-dismiss="modal">Confirm</button>
            </div>
          </div>
        </div>
      </div>
</div>
